<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Property Details</title>
    <style>
        /* Define CSS styles for the property images container */
        .property-images {
            border: 10px solid #ccc; /* Add a 10px solid border with light gray color */
            padding: 10px; /* Add padding around the images */
            height: 250px;
            width: 100%; /* Set width to 100% for responsiveness */
            overflow: auto; /* Enable overflow scrolling if needed */
        }
        .property-images img {
            max-width: 100%; /* Ensure images resize responsively within the container */
            display: block; /* Ensure images behave as block-level elements */
            margin-bottom: 20px; /* Increase bottom margin between images to 20px */
        }
    </style>
</head>
<body>
    <h1>Property Details</h1>
    
    <div th:each="auction : ${allDetails}" class="row mt-4">
       
		<div class="col-md-6" id="property-top" style="margin-bottom: 10px;"
		     th:each="auction : ${allDetails}">
		    <div class="img-emd" th:text="${auction.bankDetails.emd}"></div>
		    <div class="property-type-tag" th:text="${auction.propertyDetails.assetCategory}"></div>
		    <div class="slick-carousel">
		        <th:block th:each="imageData : ${auction.propertyDetails.decodedImages}">
		            <img th:src="@{'data:image/jpeg;base64,' + #strings.toString(imageData)}"
		                 alt="Auction Image">
		        </th:block>
		    </div>
		</div>

		
		
        <div class="col-md-6">
            <!-- Display other property details -->
            <div class="property-details">
                <h2 th:text="${auction.propertyTitle}"></h2>
                <p th:text="${auction.propertyDescription}"></p>
                <p><strong>Location:</strong> <span th:text="${auction.propertyDetails.province + ', ' + auction.propertyDetails.city}"></span></p>
                <p><strong>Start Date:</strong> <span th:text="${auction.propertyDetails.auctionStartDate}"></span></p>
                <p><strong>EMD:</strong> <span th:text="${auction.bankDetails.emd}"></span></p>
            </div>
        </div>
    </div>

    <!-- JavaScript to log image loading -->
	<script th:inline="javascript">
	    document.addEventListener('DOMContentLoaded', function() {
	        console.log('Document ready!');
	
	        // Log a message for each image when it is successfully loaded or fails to load
	        var images = document.querySelectorAll('.property-images img');
	        images.forEach(function(image) {
	            image.onload = function() {
	                console.log('Image loaded successfully: ' + image.src);
	            };
	            image.onerror = function() {
	                console.log('Error loading image: ' + image.src);
	            };
	        });
	    });
	</script>

</body>
</html>
